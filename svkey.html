<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Key Showcase — Premium</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" />
  <style>
    :root{--bg:#0f1226;--glass:rgba(255,255,255,0.06);--accent:linear-gradient(90deg,#8b5cf6,#06b6d4);--neon:0 0 30px rgba(99,102,241,0.35);}    
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(1000px 600px at 10% 10%, rgba(99,102,241,0.08), transparent), radial-gradient(800px 400px at 90% 90%, rgba(6,182,212,0.06), transparent),var(--bg);font-family:'Poppins',system-ui,Segoe UI,Roboto,Helvetica,Arial; color: #e6eef8;overflow:hidden}
    /* particle canvas fills under everything */
    #tsparticles{position:fixed;inset:0;z-index:0}

    .wrap{position:relative;z-index:2;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:60px}
    .card{width:100%;max-width:980px;display:flex;gap:28px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:20px;padding:28px;backdrop-filter:blur(10px) saturate(1.2);box-shadow:0 10px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.04);align-items:center}

    .left{flex:0 0 220px;display:flex;flex-direction:column;align-items:center;gap:18px;padding:10px}
    .avatar{width:160px;height:160px;border-radius:20px;overflow:hidden;position:relative;border:2px solid rgba(255,255,255,0.06)}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .name{font-weight:800;letter-spacing:0.6px}
    .subtitle{font-size:13px;opacity:0.8}

    .right{flex:1;padding:8px 6px}
    .keybox{background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:22px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:space-between;gap:12px}
    .key-value{font-weight:800;font-size:42px;letter-spacing:2px}
    .key-meta{font-size:13px;color:rgba(230,238,248,0.75)}

    .actions{display:flex;gap:12px;margin-top:16px}
    .btn{padding:12px 16px;border-radius:12px;background:transparent;border:1px solid rgba(255,255,255,0.06);cursor:pointer;font-weight:600;backdrop-filter:blur(6px)}
    .btn.primary{background:var(--accent);color:#0b1220;border:none;box-shadow:var(--neon)}

    .badge{display:inline-flex;gap:8px;align-items:center;padding:8px 10px;border-radius:999px;font-weight:700;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03)}

    .intro{margin-top:18px;color:rgba(230,238,248,0.9);line-height:1.5}

    /* floating decorative panel */
    .floating{position:absolute;right:44px;top:44px;padding:12px 16px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);backdrop-filter:blur(6px)}

    footer{position:fixed;left:20px;bottom:18px;font-size:13px;color:rgba(230,238,248,0.6);z-index:3}

    /* responsive */
    @media (max-width:880px){
      .card{flex-direction:column;align-items:center}
      .left{flex:0 0 auto}
      .avatar{width:140px;height:140px}
      .key-value{font-size:34px}
    }

    /* subtle entrance animations (will be triggered via JS with anime.js or fallback) */
    .hidden{opacity:0;transform:translateY(10px)}

  </style>
</head>
<body>
  <div id="tsparticles"></div>

  <div class="wrap">
    <div class="card" id="card">
      <div class="left">
        <div class="avatar hidden" id="avatar"><img src="https://scontent.fhan2-5.fna.fbcdn.net/v/t39.30808-6/491882574_986494370346987_8655220141509365002_n.jpg?_nc_cat=107&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeFJNz5nKeJvvRh-PacgsAHyk60LvQzieUSTrQu9DOJ5RKrPsLOM_mUUbup_m2mN_fv3Ti_LWE0p6QjSJKbxIho6&_nc_ohc=16fvDE0XqT4Q7kNvwE_eGg-&_nc_oc=AdnYcrQeErKrR71pauj9xwJS6SJ8lzXRegocHslcF-ejLsurOkOA48mPtuJlIW0RGX-tAgf1IYVZEPaE6oyMIydq&_nc_zt=23&_nc_ht=scontent.fhan2-5.fna&_nc_gid=_n7P7KKuibNjvNnoqeM0SA&oh=00_AfZpF5k1QWTcELdwyI0e3WYfdtU_Upnp4kTn3X7ahqgUQQ&oe=68C49209" alt="avatar"></div>
        <div class="name hidden" id="name">Premium User</div>
        <div class="subtitle hidden" id="subtitle">sv • 2k9</div>
        <div class="badge hidden" id="badge"><i class="fa-solid fa-key"></i><span id="badgeText">Active</span></div>
      </div>

      <div class="right">
        <div class="keybox hidden" id="keybox">
          <div>
            <div class="key-meta">Your access key</div>
            <div class="key-value" id="keyValue">—</div>
          </div>
          <div style="display:flex;flex-direction:column;gap:10px;align-items:flex-end">
            <button class="btn primary" id="copyBtn" title="Copy key"><i class="fa-regular fa-copy"></i></button>
            
          </div>
        </div>

        <div class="intro hidden" id="intro">just fk ur slf nigga</div>

        <!---<div class="actions hidden" id="actions">
          <button class="btn">Profile</button>
          <button class="btn">Settings</button>
          <button class="btn">Contact</button>
        </div>
      </div>-->

    </div>
  </div>

  <div class="floating hidden" id="floating">Live • <strong id="liveState">Ready</strong></div>
  <footer>Nigga</footer>

  <!-- Core libs (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@3/tsparticles.bundle.min.js"></script>
  <!-- NOTE: anime.js is loaded dynamically with fallbacks below. This avoids a hard ReferenceError if the CDN is blocked. -->

  <script>
    // Utility: load external script with timeout
    function loadScript(url, timeout = 7000){
      return new Promise((resolve, reject) => {
        const s = document.createElement('script');
        s.src = url; s.async = true;
        s.onload = () => resolve(s);
        s.onerror = () => reject(new Error('Failed to load ' + url));
        document.head.appendChild(s);
        // timeout to reject if neither onload nor onerror triggered
        setTimeout(() => reject(new Error('Timeout loading ' + url)), timeout);
      });
    }

    // Try a list of CDNs to load anime.js. If all fail, we'll use the JS fallback animation.
    const animeCDNs = [
      'https://cdn.jsdelivr.net/npm/animejs@4.2.0/lib/anime.min.js',
      'https://cdnjs.cloudflare.com/ajax/libs/animejs/4.1.3/anime.min.js'
    ];

    async function ensureAnime(){
      for(const url of animeCDNs){
        try{
          await loadScript(url);
          if(window.anime) return true;
          // if the script loaded but anime isn't present, continue trying others
        }catch(err){
          console.warn('anime CDN failed:', url, err);
        }
      }
      return false;
    }

    // small helper that performs an entrance animation using anime.js when available,
    // otherwise falls back to the Web Animations API or a simple CSS transition.
    function animateWithFallback(el, delay = 0){
      if(!el) return;
      el.classList.remove('hidden');

      if(typeof window.anime !== 'undefined'){
        try{
          anime({targets: el, opacity: [0,1], translateY: [12,0], delay, duration: 700, easing: 'spring(1,80,10,0)'});
          return;
        }catch(e){
          console.warn('anime call failed, falling back', e);
        }
      }

      // Web Animations API fallback
      if(typeof el.animate === 'function'){
        el.animate([
          {opacity: 0, transform: 'translateY(12px)'},
          {opacity: 1, transform: 'translateY(0)'}
        ], {duration: 700, delay: delay, easing: 'cubic-bezier(.2,.8,.2,1)', fill: 'forwards'});

        // Ensure final state after animation (some environments don't persist fill)
        setTimeout(() => { el.style.opacity = '1'; el.style.transform = 'translateY(0)'; }, delay + 720);
        return;
      }

      // Last resort: simple timeout toggle
      setTimeout(() => { el.style.opacity = '1'; el.style.transform = 'translateY(0)'; }, delay);
    }

    function enterAnimate(){
      const ids = ['avatar','name','subtitle','badge','keybox','intro','actions','floating'];
      ids.forEach((id, idx) => animateWithFallback(document.getElementById(id), 120 * idx));
    }

    // get ?key= from URL using URLSearchParams with safety checks
    const params = new URLSearchParams(window.location.search || '');
    const key = params.get('key') || 'no-key-found';

    // fill UI safely (check elements exist)
    const keyEl = document.getElementById('keyValue');
    const badgeText = document.getElementById('badgeText');
    const nameEl = document.getElementById('name');
    const liveStateEl = document.getElementById('liveState');

    if(keyEl) keyEl.textContent = key;
    if(badgeText) badgeText.textContent = key !== 'no-key-found' ? 'Active' : 'Missing';
    if(nameEl) nameEl.textContent = key === 'no-key-found' ? 'Guest' : 'Key Holder';

    // safe event hookup for copy and open; guard for element existence
    const copyBtn = document.getElementById('copyBtn');
    const openBtn = document.getElementById('openBtn');

    if(copyBtn){
      copyBtn.addEventListener('click', async () => {
        try{
          if(navigator.clipboard && navigator.clipboard.writeText){
            await navigator.clipboard.writeText(key);
          } else {
            // fallback: old execCommand approach
            const ta = document.createElement('textarea'); ta.value = key; ta.style.position = 'fixed'; ta.style.opacity = '0'; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
          }
          if(liveStateEl) liveStateEl.textContent = 'Copied ✓';
          setTimeout(() => { if(liveStateEl) liveStateEl.textContent = 'Ready'; }, 1400);
        }catch(e){
          console.warn('Copy failed', e);
          alert('Copy failed — your browser may block clipboard access.');
        }
      });
    }

    if(openBtn){
      openBtn.addEventListener('click', () => {
        try{
          const u = new URL(window.location.href);
          u.pathname = (u.pathname.endsWith('/') ? u.pathname : '/') + 'use-key.html';
          u.searchParams.set('key', key);
          window.open(u.toString(), '_blank');
        }catch(e){
          // fallback: try simple relative open
          window.open('use-key.html?key=' + encodeURIComponent(key), '_blank');
        }
      });
    }

    // keyboard shortcut to copy (press 'c')
    window.addEventListener('keydown', (e) => {
      try{
        if(e.key && e.key.toLowerCase() === 'c'){
          if(navigator.clipboard && navigator.clipboard.writeText){
            navigator.clipboard.writeText(key);
          }
          if(liveStateEl) liveStateEl.textContent = 'Copied ✓';
          setTimeout(() => { if(liveStateEl) liveStateEl.textContent = 'Ready'; }, 1200);
        }
      }catch(err){ console.warn(err); }
    });

    // init: load anime.js (with fallbacks) then initialize particles + animate
    window.addEventListener('load', async () => {
      // Try to initialize tsParticles if available
      try{
        if(window.tsParticles && typeof tsParticles.load === 'function'){
          tsParticles.load('tsparticles', {
            fpsLimit: 60,
            interactivity: { events: { onHover: { enable: true, mode: 'repulse' }, onClick: { enable: true, mode: 'push' } } },
            particles: {
              number: { value: 40, density: { enable: true, value_area: 800 } },
              color: { value: ['#8b5cf6','#06b6d4','#7c3aed'] },
              shape: { type: 'circle' },
              opacity: { value: 0.12, random: false },
              size: { value: 6, random: { enable: true, minimumValue: 2 } },
              links: { enable: true, distance: 160, color: '#ffffff', opacity: 0.04, width: 1 }
            },
            detectRetina: true
          });
        } else {
          console.warn('tsParticles not available; skipping particle background');
        }
      }catch(e){ console.warn('tsParticles init error', e); }

      // Load anime.js from CDNs with fallback; enter animations regardless (fallback will be used if anime not available)
      const loaded = await ensureAnime();
      if(!loaded) console.warn('anime.js could not be loaded — using fallback animations');

      // start UI entrance animations
      enterAnimate();
    });
  </script>
</body>
</html>
